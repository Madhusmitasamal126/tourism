{% extends "base.html" %}
{% block title %}Order {{ food.name }}{% endblock %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center px-4 py-12">

  <div class="max-w-2xl w-full bg-white/90 backdrop-blur-md shadow-2xl rounded-3xl overflow-hidden hover:shadow-3xl transition-shadow duration-500">

    <!-- Hero Image -->
    <div class="relative group">
      <img src="{{ food.image.url }}" class="w-full h-80 object-cover group-hover:scale-105 transition-transform duration-500" alt="{{ food.name }}">
      <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6">
        <h2 class="text-4xl font-extrabold text-white drop-shadow-lg">{{ food.name }}</h2>
      </div>
    </div>

    <!-- Food Info -->
    <div class="p-8 text-center space-y-4">
      <p class="text-gray-700 mb-2 text-lg">{{ food.description }}</p>
      <p class="text-green-600 font-bold text-2xl mb-6">â‚¹{{ food.price }}</p>

      <!-- Order Form -->
      <form method="POST" class="space-y-4 bg-white/70 backdrop-blur-sm p-6 rounded-2xl shadow-inner">
        {% csrf_token %}

        <!-- Name & Email -->
        <div class="flex flex-col sm:flex-row gap-3">
          <div class="relative w-full">
            <span class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400">
              ðŸ‘¤
            </span>
            <input type="text" name="name" placeholder="Your Name" required
                   class="border p-3 pl-10 rounded-xl w-full focus:outline-none focus:ring-2 focus:ring-blue-400 transition shadow-sm">
          </div>
          <div class="relative w-full">
            <span class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400">
              ðŸ“§
            </span>
            <input type="email" name="email" placeholder="Your Email" required
                   class="border p-3 pl-10 rounded-xl w-full focus:outline-none focus:ring-2 focus:ring-blue-400 transition shadow-sm">
          </div>
        </div>

        <!-- Quantity Selector -->
        <div class="flex items-center justify-center gap-3 mt-2">
          <button type="button" onclick="this.nextElementSibling.stepDown(); calculateTotal();"
                  class="px-5 py-2 rounded-full bg-gray-200 hover:bg-gray-300 transition text-xl font-bold">âˆ’</button>
          <input type="number" name="quantity" id="quantity" placeholder="Quantity" value="1" min="1" required
                 class="border p-3 rounded-xl w-24 text-center focus:outline-none focus:ring-2 focus:ring-blue-400 transition shadow-inner">
          <button type="button" onclick="this.previousElementSibling.stepUp(); calculateTotal();"
                  class="px-5 py-2 rounded-full bg-gray-200 hover:bg-gray-300 transition text-xl font-bold">+</button>
        </div>

        <p class="text-gray-600 font-medium mt-2 text-lg">Total: <span id="total">â‚¹{{ food.price }}</span></p>

        <!-- Submit Button -->
        <button type="submit"
                class="bg-gradient-to-r from-blue-500 to-blue-600 text-white px-6 py-3 rounded-full w-full hover:from-blue-600 hover:to-blue-700 transition font-semibold shadow-lg flex items-center justify-center gap-2 transform hover:-translate-y-1 hover:scale-105">
          ðŸ›’ Place Order
        </button>
      </form>

      <div class="mt-6 text-gray-500 text-sm">
        By ordering, you agree to our <a href="#" class="text-blue-600 hover:underline">terms & conditions</a>.
      </div>
    </div>
  </div>
</div>

<script>
  const price = {{ food.price|floatformat:2 }};
  const quantityInput = document.getElementById('quantity');
  const totalSpan = document.getElementById('total');

  function calculateTotal() {
    const qty = parseInt(quantityInput.value);
    totalSpan.textContent = `â‚¹${(price * qty).toFixed(2)}`;
  }

  quantityInput.addEventListener('input', calculateTotal);
</script>
{% endblock %}
