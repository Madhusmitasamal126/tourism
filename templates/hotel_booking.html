{% extends "base.html" %}
{% block title %}Book {{ hotel.name }}{% endblock %}

{% block content %}
<div class="min-h-screen bg-gradient-to-b from-[#fdfcf9] to-[#faf6ef] flex items-center justify-center px-4 py-12 relative">

  <!-- Animated Background Shapes -->
  <div class="absolute inset-0 pointer-events-none overflow-hidden">
    <span class="absolute top-10 left-10 w-48 h-48 bg-yellow-200/20 rounded-full animate-pulse-slow"></span>
    <span class="absolute bottom-20 right-16 w-72 h-72 bg-orange-200/20 rounded-full animate-pulse-slow"></span>
  </div>

  <div class="max-w-5xl w-full bg-white/80 backdrop-blur-md shadow-2xl rounded-3xl border border-gray-200 overflow-hidden relative p-8 z-10 transition hover:shadow-3xl">

    <!-- Floating Badges -->
    <span class="absolute top-4 right-4 bg-yellow-600 text-white text-xs font-bold px-3 py-1 rounded-full shadow-md animate-bounce-slow">
      â˜… Verified
    </span>
    {% if hotel.price > 5000 %}
    <span class="absolute top-16 right-4 bg-red-500 text-white text-xs font-bold px-3 py-1 rounded-full shadow-md animate-bounce-slow">
      ðŸ”¥ Premium
    </span>
    {% endif %}

    <!-- Flex Container -->
    <div class="flex flex-col md:flex-row gap-8 items-center md:items-start">

      <!-- Hotel Image -->
      <div class="hotel-image-wrapper">
        <img src="{{ hotel.image.url }}" alt="{{ hotel.name }}" class="hotel-image">
      </div>

      <!-- Hotel Info -->
      <div class="flex-1 space-y-4 text-center md:text-left">
        <h2 class="text-3xl font-serif font-bold text-gray-800">{{ hotel.name }}</h2>
        <p class="text-gray-600 text-base leading-relaxed">{{ hotel.description }}</p>
        <p class="text-gray-500 text-sm flex items-center gap-1 justify-center md:justify-start">
          <i class="bi bi-geo-alt-fill text-red-500"></i> {{ hotel.location }}
        </p>
        {% if hotel.price %}
        <p class="text-yellow-700 font-serif text-2xl font-bold">â‚¹{{ hotel.price }}
          <span class="text-gray-500 text-sm">/ night</span>
        </p>
        {% endif %}
      </div>
    </div>

    <!-- Divider -->
    <div class="relative my-6">
      <hr class="border-t border-gray-200">
      <span class="absolute left-1/2 -translate-x-1/2 -top-3 bg-white px-3 text-xs font-semibold text-gray-400 uppercase tracking-wide">
        Booking Details
      </span>
    </div>

    <!-- Booking Form -->
    <form method="POST" class="space-y-4 bg-white/50 backdrop-blur-md p-6 rounded-2xl shadow-inner">
      {% csrf_token %}

      <!-- Full Name -->
      <div class="relative input-wrapper">
        <span class="absolute left-3 top-1/2 -translate-y-1/2 text-yellow-600"><i class="bi bi-person"></i></span>
        <input type="text" name="name" placeholder="Full Name" required class="input-field">
      </div>

      <!-- Email -->
      <div class="relative input-wrapper">
        <span class="absolute left-3 top-1/2 -translate-y-1/2 text-yellow-600"><i class="bi bi-envelope"></i></span>
        <input type="email" name="email" placeholder="Email Address" required class="input-field">
      </div>

      <!-- Dates -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label class="block text-gray-700 font-medium mb-1 text-sm">Check-In</label>
          <input type="date" name="checkin" required class="input-field">
        </div>
        <div>
          <label class="block text-gray-700 font-medium mb-1 text-sm">Check-Out</label>
          <input type="date" name="checkout" required class="input-field">
        </div>
      </div>

      <!-- Guests -->
      <div>
        <label class="block text-gray-700 font-medium mb-1 text-sm">Guests</label>
        <select name="guests" class="input-field">
          <option>1 Adult</option>
          <option>2 Adults</option>
          <option>Family (3-4)</option>
          <option>Group (5+)</option>
        </select>
      </div>

      <!-- Submit Button -->
      <button type="submit" class="w-full btn-gradient">âœ¨ Reserve Now</button>
    </form>

    <!-- Terms -->
    <p class="text-xs text-gray-500 text-center mt-4">
      By booking, you agree to our <a href="#" class="underline hover:text-yellow-700">terms & conditions</a>.
    </p>
  </div>
</div>

<!-- Custom CSS -->
<style>
/* Animated shapes */
@keyframes pulse-slow {
  0%, 100% { transform: scale(1); opacity: 0.7; }
  50% { transform: scale(1.1); opacity: 0.9; }
}
.animate-pulse-slow { animation: pulse-slow 6s infinite; }

/* Input Fields */
.input-field {
  border: 1px solid #d1d5db;
  padding: 12px 16px 12px 40px;
  border-radius: 12px;
  width: 100%;
  outline: none;
  transition: all 0.3s ease;
  backdrop-filter: blur(6px);
  background: rgba(255,255,255,0.6);
}
.input-field:focus {
  border-color: #f59e0b;
  box-shadow: 0 4px 15px rgba(245,158,11,0.25);
}

/* Gradient Button */
.btn-gradient {
  background: linear-gradient(135deg, #f59e0b, #d97706);
  color: white;
  border: none;
  border-radius: 50px;
  padding: 14px 0;
  font-weight: 600;
  font-size: 1.1rem;
  transition: all 0.3s ease;
  box-shadow: 0 6px 15px rgba(0,0,0,0.15);
}
.btn-gradient:hover {
  background: linear-gradient(135deg, #d97706, #b45309);
  transform: translateY(-2px);
  box-shadow: 0 10px 25px rgba(0,0,0,0.25);
}

/* Hotel Image */
.hotel-image-wrapper {
  width: 340px;
  height: 240px;
  border-radius: 20px;
  overflow: hidden;
  border: 4px solid #f59e0b;
  box-shadow: 0 8px 25px rgba(0,0,0,0.2);
  flex-shrink: 0;
  transition: transform 0.4s ease, box-shadow 0.4s ease;
}
.hotel-image-wrapper:hover {
  transform: scale(1.05);
  box-shadow: 0 15px 40px rgba(0,0,0,0.3);
}
.hotel-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Badges */
.absolute span {
  font-size: 0.8rem;
}

/* Responsive */
@media (max-width: 768px) {
  .hotel-image-wrapper { width: 100%; height: 200px; }
}
</style>
{% endblock %}
